<div class="container" ng-controller="words">
    <form role="form">
        <div class="form-group">
            <label for="addWord">New word</label>

            <div class="form-inline">
                <input ng-model="source.word" type="text" class="form-control" id="addWord" placeholder="Enter word">
                <select class="form-control" ng-model="source.language" name="sourceLanguages">
                    <option ng-repeat="languageName in languages" value="{{languageName.languageName}}">
                        {{languageName.languageName}}
                    </option>
                </select>
            </div>
            <br/>

            <div class="form-inline">
                <input ng-model="translation.word" type="text" class="form-control" id="addTranslation"
                       placeholder="Enter translation"/>
                <select ng-init class="form-control" ng-model="translation.language" name="translationLanguage">
                    <option ng-repeat="languageName in languages" value="{{languageName.languageName}}">
                        {{languageName.languageName}}
                    </option>
                </select>
            </div>
        </div>
        <button type="submit" class="btn btn-default" ng-click="addTranslation(source, translation)"
                ng-disabled="isNotValid()">Add
        </button>
    </form>
    <p>{{value}}</p>
    <table class="table table-striped table-bordered">
        <thead class="table-fixed-header">
        <tr>
            <th>Word</th>
            <th>Language</th>
            <th>Translation</th>
            <th>Delete</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="word in words">
            <td>{{word.word}}</td>
            <td>{{word.languageName}}</td>
            <td>
                <!-- Button trigger modal -->
                <a ng-click="getTranslations(word)" data-toggle="modal" data-target="#{{word.word}}Modal">
                    Show translations
                </a>

                <!-- Modal -->
                <div class="modal fade" id="{{word.word}}Modal" tabindex="-1" role="dialog"
                     aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">&times;</span>
                                    <span class="sr-only">Close</span>
                                </button>
                                <h4 class="modal-title" id="myModalLabel">{{word.word}} translations</h4>
                            </div>
                            <div class="modal-body">
                                <div ng-repeat="translation in translations">
                                    {{translation.word}} - {{translation.languageName}}
                                </div>
                                <div>
                                    <div class="form-inline">
                                        <input type="text"
                                               class="form-control"
                                               id="add{{word.word}}Translation" placeholder="Enter word">
                                        <select class="form-control"
                                                name="sourceLanguages">
                                            <option ng-repeat="languageName in languages" value="{{languageName.languageName}}">
                                                {{languageName.languageName}}
                                            </option>
                                        </select>
                                        <button class="btn btn-success">Add</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </td>
            <td><a ng-click="deleteWord(word)">[X]</a></td>
        </tr>
        </tbody>
    </table>
</div>